{"version":3,"names":["React","useMemo","useRef","TextInput","Platform","Animated","useAnimatedReaction","COLORS","styles","addWhitelistedNativeProps","text","AnimatedInput","createAnimatedComponent","ProgressValue","initialValue","radius","activeStrokeColor","GREEN","progressValueColor","progressValueStyle","progressValueFontSize","progressValue","animatedTextProps","allowFontScaling","inputRef","OS","value","data","prevData","current","styleProps","TRANSPARENT","input","fromProps"],"sources":["index.tsx"],"sourcesContent":["// implementation reference from\n// https://github.com/wcandillon/react-native-redash/blob/master/src/ReText.tsx\n// and https://github.com/coinjar/react-native-wagmi-charts/\n// blob/master/src/components/AnimatedText.tsx for web compatibility\n\nimport React, { useMemo, useRef } from 'react';\nimport { TextInput, Platform } from 'react-native';\nimport Animated, { useAnimatedReaction } from 'react-native-reanimated';\n\nimport COLORS from '../../utils/colors';\nimport type { ProgressValueProps } from '../../types';\n\nimport styles from './styles';\n\nAnimated.addWhitelistedNativeProps({ text: true });\nconst AnimatedInput = Animated.createAnimatedComponent(TextInput);\n\nconst ProgressValue: React.FC<ProgressValueProps> = ({\n  initialValue = 0,\n  radius = 60,\n  activeStrokeColor = COLORS.GREEN,\n  progressValueColor,\n  progressValueStyle = {},\n  progressValueFontSize,\n  progressValue,\n  animatedTextProps,\n  allowFontScaling = true,\n}: ProgressValueProps) => {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const inputRef = useRef<any>(null);\n\n  if (Platform.OS === 'web') {\n    // only run the reaction on web platform.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useAnimatedReaction(\n      () => {\n        return progressValue.value;\n      },\n      (data, prevData) => {\n        if (data !== prevData && inputRef.current) {\n          inputRef.current.value = data;\n        }\n      }\n    );\n  }\n\n  const styleProps = useMemo(\n    () => ({\n      radius,\n      progressValueColor,\n      progressValueFontSize,\n      progressValueStyle,\n      activeStrokeColor,\n    }),\n    [\n      radius,\n      progressValueColor,\n      progressValueFontSize,\n      progressValueStyle,\n      activeStrokeColor,\n    ]\n  );\n\n  return (\n    <AnimatedInput\n      testID=\"progress-value-text\"\n      ref={inputRef}\n      underlineColorAndroid={COLORS.TRANSPARENT}\n      editable={false}\n      defaultValue={`${initialValue}`}\n      style={[\n        styles(styleProps).input,\n        progressValueStyle,\n        styles(styleProps).fromProps,\n      ]}\n      animatedProps={animatedTextProps}\n      allowFontScaling={allowFontScaling}\n    />\n  );\n};\n\nexport default ProgressValue;\n"],"mappings":"AAAA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,IAAgBC,OAAhB,EAAyBC,MAAzB,QAAuC,OAAvC;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,cAApC;AACA,OAAOC,QAAP,IAAmBC,mBAAnB,QAA8C,yBAA9C;AAEA,OAAOC,MAAP,MAAmB,oBAAnB;AAGA,OAAOC,MAAP,MAAmB,UAAnB;AAEAH,QAAQ,CAACI,yBAAT,CAAmC;EAAEC,IAAI,EAAE;AAAR,CAAnC;AACA,MAAMC,aAAa,GAAGN,QAAQ,CAACO,uBAAT,CAAiCT,SAAjC,CAAtB;;AAEA,MAAMU,aAA2C,GAAG,QAU1B;EAAA,IAV2B;IACnDC,YAAY,GAAG,CADoC;IAEnDC,MAAM,GAAG,EAF0C;IAGnDC,iBAAiB,GAAGT,MAAM,CAACU,KAHwB;IAInDC,kBAJmD;IAKnDC,kBAAkB,GAAG,EAL8B;IAMnDC,qBANmD;IAOnDC,aAPmD;IAQnDC,iBARmD;IASnDC,gBAAgB,GAAG;EATgC,CAU3B;EACxB;EACA,MAAMC,QAAQ,GAAGtB,MAAM,CAAM,IAAN,CAAvB;;EAEA,IAAIE,QAAQ,CAACqB,EAAT,KAAgB,KAApB,EAA2B;IACzB;IACA;IACAnB,mBAAmB,CACjB,MAAM;MACJ,OAAOe,aAAa,CAACK,KAArB;IACD,CAHgB,EAIjB,CAACC,IAAD,EAAOC,QAAP,KAAoB;MAClB,IAAID,IAAI,KAAKC,QAAT,IAAqBJ,QAAQ,CAACK,OAAlC,EAA2C;QACzCL,QAAQ,CAACK,OAAT,CAAiBH,KAAjB,GAAyBC,IAAzB;MACD;IACF,CARgB,CAAnB;EAUD;;EAED,MAAMG,UAAU,GAAG7B,OAAO,CACxB,OAAO;IACLc,MADK;IAELG,kBAFK;IAGLE,qBAHK;IAILD,kBAJK;IAKLH;EALK,CAAP,CADwB,EAQxB,CACED,MADF,EAEEG,kBAFF,EAGEE,qBAHF,EAIED,kBAJF,EAKEH,iBALF,CARwB,CAA1B;EAiBA,oBACE,oBAAC,aAAD;IACE,MAAM,EAAC,qBADT;IAEE,GAAG,EAAEQ,QAFP;IAGE,qBAAqB,EAAEjB,MAAM,CAACwB,WAHhC;IAIE,QAAQ,EAAE,KAJZ;IAKE,YAAY,EAAG,GAAEjB,YAAa,EALhC;IAME,KAAK,EAAE,CACLN,MAAM,CAACsB,UAAD,CAAN,CAAmBE,KADd,EAELb,kBAFK,EAGLX,MAAM,CAACsB,UAAD,CAAN,CAAmBG,SAHd,CANT;IAWE,aAAa,EAAEX,iBAXjB;IAYE,gBAAgB,EAAEC;EAZpB,EADF;AAgBD,CA9DD;;AAgEA,eAAeV,aAAf"}