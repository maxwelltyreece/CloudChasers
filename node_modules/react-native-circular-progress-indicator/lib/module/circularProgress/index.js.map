{"version":3,"names":["React","forwardRef","useImperativeHandle","useMemo","Text","StyleSheet","View","ProgressCircle","useAnimatedValue","COLORS","ProgressValue","styles","CircularProgress","props","ref","value","initialValue","circleBackgroundColor","TRANSPARENT","radius","duration","delay","maxValue","strokeLinecap","onAnimationComplete","activeStrokeColor","GREEN","activeStrokeSecondaryColor","activeStrokeWidth","inActiveStrokeColor","BLACK_30","inActiveStrokeWidth","inActiveStrokeOpacity","clockwise","startInPausedState","rotation","title","titleStyle","titleColor","titleFontSize","progressValueColor","progressValueStyle","progressValueFontSize","valuePrefix","valueSuffix","showProgressValue","subtitle","subtitleStyle","subtitleColor","subtitleFontSize","progressFormatter","v","Math","round","allowFontScaling","dashedStrokeConfig","count","width","valuePrefixStyle","valueSuffixStyle","strokeColorConfig","undefined","animatedCircleProps","animatedTextProps","progressValue","play","pause","reAnimate","styleProps","container","rotatingContainer","absoluteFillObject","valueContainer","valueContainerRow","input","fromProps"],"sources":["index.tsx"],"sourcesContent":["import React, { forwardRef, useImperativeHandle, useMemo } from 'react';\nimport { Text, StyleSheet, View } from 'react-native';\n\nimport ProgressCircle from '../components/progressCircle';\nimport useAnimatedValue from '../hooks/useAnimatedValue';\nimport COLORS from '../utils/colors';\nimport type { CircularProgressProps, ProgressRef } from '../types';\nimport ProgressValue from '../components/progressValue';\n\nimport styles from './styles';\n\nconst CircularProgress = forwardRef<ProgressRef, CircularProgressProps>(\n  (props, ref) => {\n    const {\n      value,\n      initialValue = 0,\n      circleBackgroundColor = COLORS.TRANSPARENT,\n      radius = 60,\n      duration = 500,\n      delay = 0,\n      maxValue = 100,\n      strokeLinecap = 'round',\n      onAnimationComplete = () => null,\n      activeStrokeColor = COLORS.GREEN,\n      activeStrokeSecondaryColor = null,\n      activeStrokeWidth = 10,\n      inActiveStrokeColor = COLORS.BLACK_30,\n      inActiveStrokeWidth = 10,\n      inActiveStrokeOpacity = 1,\n      clockwise = true,\n      startInPausedState = false,\n      rotation = 0,\n      title = '',\n      titleStyle = {},\n      titleColor,\n      titleFontSize,\n      progressValueColor,\n      progressValueStyle = {},\n      progressValueFontSize,\n      valuePrefix = '',\n      valueSuffix = '',\n      showProgressValue = true,\n      subtitle = '',\n      subtitleStyle = {},\n      subtitleColor,\n      subtitleFontSize,\n      progressFormatter = (v: number) => {\n        'worklet';\n\n        return Math.round(v);\n      },\n      allowFontScaling = true,\n      dashedStrokeConfig = { count: 0, width: 0 },\n      valuePrefixStyle = {},\n      valueSuffixStyle = {},\n      strokeColorConfig = undefined,\n    } = props;\n\n    const {\n      animatedCircleProps,\n      animatedTextProps,\n      progressValue,\n      play,\n      pause,\n      reAnimate,\n    } = useAnimatedValue({\n      initialValue,\n      radius,\n      maxValue,\n      clockwise,\n      startInPausedState,\n      delay,\n      value,\n      duration,\n      onAnimationComplete,\n      activeStrokeWidth,\n      inActiveStrokeWidth,\n      progressFormatter,\n      strokeColorConfig,\n    });\n\n    useImperativeHandle(ref, () => ({\n      play,\n      pause,\n      reAnimate,\n    }));\n\n    const styleProps = useMemo(\n      () => ({\n        radius,\n        rotation,\n        progressValueColor,\n        progressValueFontSize,\n        progressValueStyle,\n        activeStrokeColor,\n        titleStyle,\n        titleColor,\n        titleFontSize,\n        showProgressValue,\n        subtitleColor,\n        subtitleFontSize,\n        subtitleStyle,\n      }),\n      [\n        radius,\n        rotation,\n        progressValueColor,\n        progressValueFontSize,\n        progressValueStyle,\n        activeStrokeColor,\n        titleStyle,\n        titleColor,\n        titleFontSize,\n        showProgressValue,\n        subtitleColor,\n        subtitleFontSize,\n        subtitleStyle,\n      ]\n    );\n\n    return (\n      <View style={styles(styleProps).container} testID=\"progress-bar\">\n        <View style={styles(styleProps).rotatingContainer}>\n          <ProgressCircle\n            circleBackgroundColor={circleBackgroundColor}\n            radius={radius}\n            strokeLinecap={strokeLinecap}\n            activeStrokeColor={activeStrokeColor}\n            activeStrokeSecondaryColor={activeStrokeSecondaryColor}\n            activeStrokeWidth={activeStrokeWidth}\n            inActiveStrokeColor={inActiveStrokeColor}\n            inActiveStrokeWidth={inActiveStrokeWidth}\n            inActiveStrokeOpacity={inActiveStrokeOpacity}\n            animatedCircleProps={animatedCircleProps}\n            dashedStrokeConfig={dashedStrokeConfig}\n          />\n        </View>\n        <View\n          style={[\n            StyleSheet.absoluteFillObject,\n            styles(styleProps).valueContainer,\n          ]}>\n          {showProgressValue && (\n            <View style={styles(styleProps).valueContainerRow}>\n              {!!valuePrefix && (\n                <Text\n                  testID=\"progress-bar-value-prefix\"\n                  style={[\n                    styles(styleProps).input,\n                    progressValueStyle,\n                    styles(styleProps).fromProps,\n                    valuePrefixStyle,\n                  ]}\n                  allowFontScaling={allowFontScaling}>\n                  {valuePrefix}\n                </Text>\n              )}\n              <ProgressValue\n                initialValue={initialValue}\n                radius={radius}\n                activeStrokeColor={activeStrokeColor}\n                progressValueColor={progressValueColor}\n                progressValueStyle={progressValueStyle}\n                progressValueFontSize={progressValueFontSize}\n                progressValue={progressValue}\n                animatedTextProps={animatedTextProps}\n                allowFontScaling={allowFontScaling}\n              />\n              {!!valueSuffix && (\n                <Text\n                  testID=\"progress-bar-value-suffix\"\n                  style={[\n                    styles(styleProps).input,\n                    progressValueStyle,\n                    styles(styleProps).fromProps,\n                    valueSuffixStyle,\n                  ]}\n                  allowFontScaling={allowFontScaling}>\n                  {valueSuffix}\n                </Text>\n              )}\n            </View>\n          )}\n          {title && title !== '' ? (\n            <Text\n              testID=\"progress-title-text\"\n              style={[styles(styleProps).title, titleStyle]}\n              numberOfLines={1}\n              allowFontScaling={allowFontScaling}>\n              {title}\n            </Text>\n          ) : null}\n          {subtitle && subtitle !== '' ? (\n            <Text\n              testID=\"progress-subtitle-text\"\n              style={[\n                styles(styleProps).title,\n                styles(styleProps).subtitle,\n                subtitleStyle,\n              ]}\n              numberOfLines={1}\n              allowFontScaling={allowFontScaling}>\n              {subtitle}\n            </Text>\n          ) : null}\n        </View>\n      </View>\n    );\n  }\n);\n\nexport default CircularProgress;\n"],"mappings":"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"}