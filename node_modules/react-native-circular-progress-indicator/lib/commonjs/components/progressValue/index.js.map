{"version":3,"names":["Animated","addWhitelistedNativeProps","text","AnimatedInput","createAnimatedComponent","TextInput","ProgressValue","initialValue","radius","activeStrokeColor","COLORS","GREEN","progressValueColor","progressValueStyle","progressValueFontSize","progressValue","animatedTextProps","allowFontScaling","inputRef","useRef","Platform","OS","useAnimatedReaction","value","data","prevData","current","styleProps","useMemo","TRANSPARENT","styles","input","fromProps"],"sources":["index.tsx"],"sourcesContent":["// implementation reference from\n// https://github.com/wcandillon/react-native-redash/blob/master/src/ReText.tsx\n// and https://github.com/coinjar/react-native-wagmi-charts/\n// blob/master/src/components/AnimatedText.tsx for web compatibility\n\nimport React, { useMemo, useRef } from 'react';\nimport { TextInput, Platform } from 'react-native';\nimport Animated, { useAnimatedReaction } from 'react-native-reanimated';\n\nimport COLORS from '../../utils/colors';\nimport type { ProgressValueProps } from '../../types';\n\nimport styles from './styles';\n\nAnimated.addWhitelistedNativeProps({ text: true });\nconst AnimatedInput = Animated.createAnimatedComponent(TextInput);\n\nconst ProgressValue: React.FC<ProgressValueProps> = ({\n  initialValue = 0,\n  radius = 60,\n  activeStrokeColor = COLORS.GREEN,\n  progressValueColor,\n  progressValueStyle = {},\n  progressValueFontSize,\n  progressValue,\n  animatedTextProps,\n  allowFontScaling = true,\n}: ProgressValueProps) => {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const inputRef = useRef<any>(null);\n\n  if (Platform.OS === 'web') {\n    // only run the reaction on web platform.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useAnimatedReaction(\n      () => {\n        return progressValue.value;\n      },\n      (data, prevData) => {\n        if (data !== prevData && inputRef.current) {\n          inputRef.current.value = data;\n        }\n      }\n    );\n  }\n\n  const styleProps = useMemo(\n    () => ({\n      radius,\n      progressValueColor,\n      progressValueFontSize,\n      progressValueStyle,\n      activeStrokeColor,\n    }),\n    [\n      radius,\n      progressValueColor,\n      progressValueFontSize,\n      progressValueStyle,\n      activeStrokeColor,\n    ]\n  );\n\n  return (\n    <AnimatedInput\n      testID=\"progress-value-text\"\n      ref={inputRef}\n      underlineColorAndroid={COLORS.TRANSPARENT}\n      editable={false}\n      defaultValue={`${initialValue}`}\n      style={[\n        styles(styleProps).input,\n        progressValueStyle,\n        styles(styleProps).fromProps,\n      ]}\n      animatedProps={animatedTextProps}\n      allowFontScaling={allowFontScaling}\n    />\n  );\n};\n\nexport default ProgressValue;\n"],"mappings":";;;;;;;AAKA;;AACA;;AACA;;AAEA;;AAGA;;;;;;;;AAZA;AACA;AACA;AACA;AAWAA,8BAAA,CAASC,yBAAT,CAAmC;EAAEC,IAAI,EAAE;AAAR,CAAnC;;AACA,MAAMC,aAAa,GAAGH,8BAAA,CAASI,uBAAT,CAAiCC,sBAAjC,CAAtB;;AAEA,MAAMC,aAA2C,GAAG,QAU1B;EAAA,IAV2B;IACnDC,YAAY,GAAG,CADoC;IAEnDC,MAAM,GAAG,EAF0C;IAGnDC,iBAAiB,GAAGC,eAAA,CAAOC,KAHwB;IAInDC,kBAJmD;IAKnDC,kBAAkB,GAAG,EAL8B;IAMnDC,qBANmD;IAOnDC,aAPmD;IAQnDC,iBARmD;IASnDC,gBAAgB,GAAG;EATgC,CAU3B;EACxB;EACA,MAAMC,QAAQ,GAAG,IAAAC,aAAA,EAAY,IAAZ,CAAjB;;EAEA,IAAIC,qBAAA,CAASC,EAAT,KAAgB,KAApB,EAA2B;IACzB;IACA;IACA,IAAAC,0CAAA,EACE,MAAM;MACJ,OAAOP,aAAa,CAACQ,KAArB;IACD,CAHH,EAIE,CAACC,IAAD,EAAOC,QAAP,KAAoB;MAClB,IAAID,IAAI,KAAKC,QAAT,IAAqBP,QAAQ,CAACQ,OAAlC,EAA2C;QACzCR,QAAQ,CAACQ,OAAT,CAAiBH,KAAjB,GAAyBC,IAAzB;MACD;IACF,CARH;EAUD;;EAED,MAAMG,UAAU,GAAG,IAAAC,cAAA,EACjB,OAAO;IACLpB,MADK;IAELI,kBAFK;IAGLE,qBAHK;IAILD,kBAJK;IAKLJ;EALK,CAAP,CADiB,EAQjB,CACED,MADF,EAEEI,kBAFF,EAGEE,qBAHF,EAIED,kBAJF,EAKEJ,iBALF,CARiB,CAAnB;EAiBA,oBACE,6BAAC,aAAD;IACE,MAAM,EAAC,qBADT;IAEE,GAAG,EAAES,QAFP;IAGE,qBAAqB,EAAER,eAAA,CAAOmB,WAHhC;IAIE,QAAQ,EAAE,KAJZ;IAKE,YAAY,EAAG,GAAEtB,YAAa,EALhC;IAME,KAAK,EAAE,CACL,IAAAuB,eAAA,EAAOH,UAAP,EAAmBI,KADd,EAELlB,kBAFK,EAGL,IAAAiB,eAAA,EAAOH,UAAP,EAAmBK,SAHd,CANT;IAWE,aAAa,EAAEhB,iBAXjB;IAYE,gBAAgB,EAAEC;EAZpB,EADF;AAgBD,CA9DD;;eAgEeX,a"}