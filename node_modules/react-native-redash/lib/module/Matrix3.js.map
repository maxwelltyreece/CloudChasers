{"version":3,"names":["parseAngle","angle","endsWith","parseFloat","Math","PI","isTranslateX","transform","Object","keys","indexOf","isTranslateY","isScale","isScaleX","isScaleY","isSkewX","isSkewY","isRotate","isRotateZ","exhaustiveCheck","a","Error","identity3","translateXMatrix","x","translateYMatrix","y","scaleMatrix","s","scaleXMatrix","scaleYMatrix","skewXMatrix","tan","skewYMatrix","rotateZMatrix","r","cos","sin","dot3","row","col","matrixVecMul3","m","v","mapPoint","multiply3","m1","m2","row0","row1","row2","col0","col1","col2","serializeToSVGMatrix","svgMatrix","transforms","processTransform2d","reduce","acc","translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotate","rotateZ","isMatrix3","arg","length","Array","decompose2d","b","c","d","E","F","G","H","Q","sqrt","pow","R","a1","atan2","a2","theta","phi"],"sources":["Matrix3.ts"],"sourcesContent":["/* eslint-disable prefer-destructuring */\nexport type Vec2 = readonly [number, number];\ntype Vec3 = readonly [number, number, number];\n\nexport type Matrix3 = readonly [\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number\n];\n\nexport interface TransformProp {\n  transform: Transforms2d;\n}\n\ntype Transformations = {\n  translateX: number;\n  translateY: number;\n  scale: number;\n  skewX: string;\n  skewY: string;\n  scaleX: number;\n  scaleY: number;\n  rotateZ: string;\n  rotate: string;\n};\n\nexport type Transforms2d = (\n  | Pick<Transformations, \"translateX\">\n  | Pick<Transformations, \"translateY\">\n  | Pick<Transformations, \"scale\">\n  | Pick<Transformations, \"scaleX\">\n  | Pick<Transformations, \"scaleY\">\n  | Pick<Transformations, \"skewX\">\n  | Pick<Transformations, \"skewY\">\n  | Pick<Transformations, \"rotate\">\n  | Pick<Transformations, \"rotateZ\">\n)[];\n\n/**\n * @worklet\n */\nexport const parseAngle = (angle: string) => {\n  \"worklet\";\n  if (angle.endsWith(\"deg\")) {\n    return parseFloat(angle) * (Math.PI / 180);\n  }\n  return parseFloat(angle);\n};\n\n/**\n * @worklet\n */\nexport const isTranslateX = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"translateX\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"translateX\") !== -1;\n};\n\n/**\n * @worklet\n */\nexport const isTranslateY = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"translateY\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"translateY\") !== -1;\n};\n\n/**\n * @worklet\n */\nexport const isScale = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"scale\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"scale\") !== -1;\n};\n\n/**\n * @worklet\n */\nexport const isScaleX = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"scaleX\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"scaleX\") !== -1;\n};\n\n/**\n * @worklet\n */\nexport const isScaleY = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"scaleY\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"scaleY\") !== -1;\n};\n\n/**\n * @worklet\n */\nexport const isSkewX = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"skewX\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"skewX\") !== -1;\n};\n\n/**\n * @worklet\n */\nexport const isSkewY = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"skewY\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"skewY\") !== -1;\n};\n\n/**\n * @worklet\n */\nexport const isRotate = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"rotate\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"rotate\") !== -1;\n};\n\n/**\n * @worklet\n */\nexport const isRotateZ = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"rotateZ\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"rotateZ\") !== -1;\n};\n\n/**\n * @worklet\n */\nconst exhaustiveCheck = (a: never): never => {\n  \"worklet\";\n  throw new Error(`Unexhaustive handling for ${a}`);\n};\n\nexport const identity3: Matrix3 = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n/**\n * @worklet\n */\nconst translateXMatrix = (x: number): Matrix3 => {\n  \"worklet\";\n  return [1, 0, x, 0, 1, 0, 0, 0, 1];\n};\n\n/**\n * @worklet\n */\nconst translateYMatrix = (y: number): Matrix3 => {\n  \"worklet\";\n  return [1, 0, 0, 0, 1, y, 0, 0, 1];\n};\n\n/**\n * @worklet\n */\nconst scaleMatrix = (s: number): Matrix3 => {\n  \"worklet\";\n  return [s, 0, 0, 0, s, 0, 0, 0, 1];\n};\n\n/**\n * @worklet\n */\nconst scaleXMatrix = (s: number): Matrix3 => {\n  \"worklet\";\n  return [s, 0, 0, 0, 1, 0, 0, 0, 1];\n};\n\n/**\n * @worklet\n */\nconst scaleYMatrix = (s: number): Matrix3 => {\n  \"worklet\";\n  return [1, 0, 0, 0, s, 0, 0, 0, 1];\n};\n\n/**\n * @worklet\n */\nconst skewXMatrix = (s: number): Matrix3 => {\n  \"worklet\";\n  return [1, Math.tan(s), 0, 0, 1, 0, 0, 0, 1];\n};\n\n/**\n * @worklet\n */\nconst skewYMatrix = (s: number): Matrix3 => {\n  \"worklet\";\n  return [1, 0, 0, Math.tan(s), 1, 0, 0, 0, 1];\n};\n\n/**\n * @worklet\n */\nconst rotateZMatrix = (r: number): Matrix3 => {\n  \"worklet\";\n  return [\n    Math.cos(r),\n    -1 * Math.sin(r),\n    0,\n    Math.sin(r),\n    Math.cos(r),\n    0,\n    0,\n    0,\n    1,\n  ];\n};\n\n/**\n * @worklet\n */\nexport const dot3 = (row: Vec3, col: Vec3) => {\n  \"worklet\";\n  return row[0] * col[0] + row[1] * col[1] + row[2] * col[2];\n};\n\n/**\n * @worklet\n */\nexport const matrixVecMul3 = (m: Matrix3, v: Vec3) => {\n  \"worklet\";\n  return [\n    dot3([m[0], m[1], m[2]], v),\n    dot3([m[3], m[4], m[5]], v),\n    dot3([m[6], m[7], m[8]], v),\n  ] as const;\n};\n\n/**\n * @worklet\n */\nexport const mapPoint = (m: Matrix3, v: Vec2) => {\n  \"worklet\";\n  const r = matrixVecMul3(m, [v[0], v[1], 1]);\n  return [r[0] / r[2], r[1] / r[2]] as const;\n};\n\n/**\n * @worklet\n */\nexport const multiply3 = (m1: Matrix3, m2: Matrix3) => {\n  \"worklet\";\n  const row0 = [m1[0], m1[1], m1[2]] as const;\n  const row1 = [m1[3], m1[4], m1[5]] as const;\n  const row2 = [m1[6], m1[7], m1[8]] as const;\n  const col0 = [m2[0], m2[3 + 0], m2[6 + 0]] as const;\n  const col1 = [m2[1], m2[3 + 1], m2[6 + 1]] as const;\n  const col2 = [m2[2], m2[3 + 2], m2[6 + 2]] as const;\n  return [\n    dot3(row0, col0),\n    dot3(row0, col1),\n    dot3(row0, col2),\n    dot3(row1, col0),\n    dot3(row1, col1),\n    dot3(row1, col2),\n    dot3(row2, col0),\n    dot3(row2, col1),\n    dot3(row2, col2),\n  ] as const;\n};\n\n/**\n * @worklet\n */\nconst serializeToSVGMatrix = (m: Matrix3) => {\n  \"worklet\";\n  return `matrix(${m[0]}, ${m[3 + 0]}, ${m[1]}, ${m[3 + 1]}, ${m[2]}, ${\n    m[3 + 2]\n  })`;\n};\n\n/**\n * @worklet\n */\nexport const svgMatrix = (transforms: Transforms2d) => {\n  \"worklet\";\n  return serializeToSVGMatrix(processTransform2d(transforms));\n};\n\n/**\n * @worklet\n */\nexport const processTransform2d = (transforms: Transforms2d) => {\n  \"worklet\";\n  return transforms.reduce((acc, transform) => {\n    if (isTranslateX(transform)) {\n      return multiply3(acc, translateXMatrix(transform.translateX));\n    }\n    if (isTranslateY(transform)) {\n      return multiply3(acc, translateYMatrix(transform.translateY));\n    }\n    if (isScale(transform)) {\n      return multiply3(acc, scaleMatrix(transform.scale));\n    }\n    if (isScaleX(transform)) {\n      return multiply3(acc, scaleXMatrix(transform.scaleX));\n    }\n    if (isScaleY(transform)) {\n      return multiply3(acc, scaleYMatrix(transform.scaleY));\n    }\n    if (isSkewX(transform)) {\n      return multiply3(acc, skewXMatrix(parseAngle(transform.skewX)));\n    }\n    if (isSkewY(transform)) {\n      return multiply3(acc, skewYMatrix(parseAngle(transform.skewY)));\n    }\n    if (isRotate(transform)) {\n      return multiply3(acc, rotateZMatrix(parseAngle(transform.rotate)));\n    }\n    if (isRotateZ(transform)) {\n      return multiply3(acc, rotateZMatrix(parseAngle(transform.rotateZ)));\n    }\n    return exhaustiveCheck(transform);\n  }, identity3);\n};\n\n/**\n * @worklet\n */\nconst isMatrix3 = (arg: Matrix3 | Transforms2d): arg is Matrix3 => {\n  \"worklet\";\n  return arg.length === 9 && arg[0] instanceof Array;\n};\n\n// https://math.stackexchange.com/questions/13150/extracting-rotation-scale-values-from-2d-transformation-matrix\n\n// https://math.stackexchange.com/questions/296794/finding-the-transform-matrix-from-4-projected-points-with-javascript\n// https://franklinta.com/2014/09/08/computing-css-matrix3d-transforms/\n// http://jsfiddle.net/dFrHS/1/\n/**\n * @worklet\n */\nexport const decompose2d = (arg: Matrix3 | Transforms2d) => {\n  \"worklet\";\n  const m = isMatrix3(arg) ? arg : processTransform2d(arg);\n  const a = m[0];\n  const b = m[3 + 0];\n  const c = m[1];\n  const d = m[3 + 1];\n  const translateX = m[2];\n  const translateY = m[3 + 2];\n  const E = (a + d) / 2;\n  const F = (a - d) / 2;\n  const G = (c + b) / 2;\n  const H = (c - b) / 2;\n  const Q = Math.sqrt(Math.pow(E, 2) + Math.pow(H, 2));\n  const R = Math.sqrt(Math.pow(F, 2) + Math.pow(G, 2));\n  const scaleX = Q + R;\n  const scaleY = Q - R;\n  const a1 = Math.atan2(G, F);\n  const a2 = Math.atan2(H, E);\n  const theta = (a2 - a1) / 2;\n  const phi = (a2 + a1) / 2;\n  return [\n    { translateX },\n    { translateY },\n    { rotateZ: -1 * theta },\n    { scaleX },\n    { scaleY },\n    { rotateZ: -1 * phi },\n  ] as const;\n};\n"],"mappings":"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"}